<Window x:Class="KisaSchoolMangement.Views.Student.StudentDetailsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Student Details" Height="720" Width="820"
        WindowStartupLocation="CenterOwner"
        FontFamily="Segoe UI">
    <Grid Margin="12">
        <Border Background="White" CornerRadius="8" Padding="12" BorderBrush="#E1E5E9" BorderThickness="1">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <!-- Header -->
                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Important: Image must have x:Name="imgPhoto" so code-behind can access it -->
                        <Border Width="110" Height="110" CornerRadius="8" Background="#F4F6F9" HorizontalAlignment="Left">
                            <Image x:Name="imgPhoto" Stretch="UniformToFill" Margin="6"/>
                        </Border>

                        <StackPanel Grid.Column="1" Margin="12,0,0,0" VerticalAlignment="Center">
                            <TextBlock Text="{Binding StudentName}" FontSize="20" FontWeight="Bold" Foreground="#2D3436"/>
                            <TextBlock Text="{Binding GrNo}" FontSize="13" Foreground="#636E72" Margin="0,6,0,0"/>
                            <TextBlock Text="{Binding ClassName}" FontSize="13" Foreground="#636E72"/>
                        </StackPanel>
                    </Grid>

                    <!-- Two-column details -->
                    <UniformGrid Columns="2" Margin="0,6,0,0">
                        <!-- Left column -->
                        <StackPanel Margin="6">
                            <TextBlock FontWeight="SemiBold" Foreground="#333">GR No</TextBlock>
                            <TextBlock Text="{Binding GrNo}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Date of Birth</TextBlock>
                            <TextBlock Text="{Binding DOB}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Gender</TextBlock>
                            <TextBlock Text="{Binding Gender}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Admission Date</TextBlock>
                            <TextBlock Text="{Binding AdmissionDate}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Class / Section</TextBlock>
                            <TextBlock Margin="0,4,0,8">
                                <TextBlock.Text>
                                    <MultiBinding StringFormat="{}{0} / {1}">
                                        <Binding Path="ClassName" />
                                        <Binding Path="SectionName" />
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>    

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Guardian</TextBlock>
                            <TextBlock Text="{Binding GuardianName}" Margin="0,4,0,2"/>
                            <TextBlock Text="{Binding GuardianPhone}" Foreground="#666" Margin="0,0,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Address</TextBlock>
                            <TextBlock Text="{Binding Address}" TextWrapping="Wrap" Margin="0,4,0,8"/>
                        </StackPanel>

                        <!-- Right column -->
                        <StackPanel Margin="6">
                            <TextBlock FontWeight="SemiBold" Foreground="#333">Father Name</TextBlock>
                            <TextBlock Text="{Binding FatherName}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Mother Name</TextBlock>
                            <TextBlock Text="{Binding MotherName}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Family Code</TextBlock>
                            <TextBlock Text="{Binding FamilyCode}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">District Code</TextBlock>
                            <TextBlock Text="{Binding DistrictCode}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Category</TextBlock>
                            <TextBlock Text="{Binding StudentCategory}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Monthly Fee</TextBlock>
                            <TextBlock Text="{Binding MonthlyFeeDisplay}" Margin="0,4,0,8"/>

                            <TextBlock FontWeight="SemiBold" Foreground="#333">Status</TextBlock>
                            <TextBlock Text="{Binding Status}" Margin="0,4,0,8"/>
                        </StackPanel>
                    </UniformGrid>

                    <!-- Additional sections -->
                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="CNIC &amp; Documents" FontSize="16" FontWeight="Bold" Margin="0,6,0,6"/>
                        <WrapPanel>
                            <StackPanel Width="250" Margin="6">
                                <TextBlock FontWeight="SemiBold">Child CNIC</TextBlock>
                                <TextBlock Text="{Binding ChildCNICNumber}" Margin="0,4,0,8"/>
                            </StackPanel>
                            <StackPanel Width="250" Margin="6">
                                <TextBlock FontWeight="SemiBold">Father CNIC</TextBlock>
                                <TextBlock Text="{Binding FatherCNIC}" Margin="0,4,0,8"/>
                            </StackPanel>
                            <StackPanel Width="250" Margin="6">
                                <TextBlock FontWeight="SemiBold">Mother CNIC</TextBlock>
                                <TextBlock Text="{Binding MotherCNICNumber}" Margin="0,4,0,8"/>
                            </StackPanel>
                        </WrapPanel>

                        <TextBlock Text="Financial &amp; Family" FontSize="16" FontWeight="Bold" Margin="0,12,0,6"/>
                        <WrapPanel>
                            <StackPanel Width="250" Margin="6">
                                <TextBlock FontWeight="SemiBold">Father Occupation</TextBlock>
                                <TextBlock Text="{Binding FatherOccupation}" Margin="0,4,0,8"/>
                            </StackPanel>
                            <StackPanel Width="250" Margin="6">
                                <TextBlock FontWeight="SemiBold">Father Income</TextBlock>
                                <TextBlock Text="{Binding FatherIncomeDisplay}" Margin="0,4,0,8"/>
                            </StackPanel>
                            <StackPanel Width="250" Margin="6">
                                <TextBlock FontWeight="SemiBold">Mother Income</TextBlock>
                                <TextBlock Text="{Binding MotherIncomeDisplay}" Margin="0,4,0,8"/>
                            </StackPanel>
                        </WrapPanel>

                        <TextBlock Text="Other Info" FontSize="16" FontWeight="Bold" Margin="0,12,0,6"/>
                        <TextBlock Text="{Binding ReasonOfScholarship}" TextWrapping="Wrap" Margin="6"/>
                    </StackPanel>

                    <!-- Footer -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
                        <Button Content="Close" Width="100" Height="36" Click="Close_Click"
                                Background="#E0E0E0" BorderThickness="0"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
